function [ disparity ] = calculateDisparity( grayL,grayR,bbox )
%CALCULATEDISPARITY Summary of this function goes here
%   Detailed explanation goes here

x=bbox(1);  % x
y=bbox(2);  % y
w=bbox(3);  % width
h=bbox(4);  % height

absdiff=zeros(1,x); % ??????????????????????

imgFace=bbox2ROI(grayL,bbox);  % bbox???????????o??

for i=1:x
    bboxROI=[i,y,w,h];                              % ????????
    ROI=bbox2ROI(grayR,bboxROI);                    % bbox???????????o??
    absdiff(i)=sum(sum(imabsdiff(imgFace,ROI)));    % ?????????v?Z
end

[~,I]=min(absdiff); % ?????l???C???f?b?N?X???T??

disparity=abs(x-I);

% figure(1)
% plot(absdiff)
% drawnow


% figure
% bbox=[I,y,w,h];
% ROI=bbox2ROI(grayL,bbox);
% imshow(ROI)

end

